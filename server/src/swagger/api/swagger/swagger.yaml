swagger: "2.0"
info:
  version: "0.0.1"
  title: Are You Board
basePath: /api
schemes:
  - http
  - ws
consumes:
  - application/json
produces:
  - application/json
paths:
  /login:
    x-swagger-router-controller: auth
    post:
      tags: [ "auth" ]
      operationId: login
      consumes: [ "application/x-www-form-urlencoded" ]
      produces: [ "text/html", "text/plain" ]
      parameters:
        - name: nick
          in: formData
          type: string
      responses:
        302:
          description: Login successful
          headers:
            Location:
              description: Redirect URL
              type: string
          schema:
            type: string
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"

  /logout:
    x-swagger-router-controller: auth
    get:
      tags: [ "auth" ]
      operationId: logout
      produces: [ "text/html", "text/plain" ]
      responses:
        302:
          description: Logout successful
          headers:
            Location:
              description: Redirect URL
              type: string
          schema:
            type: string
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"

  /cat:
    x-swagger-router-controller: cat
    get:
      tags: [ "cat" ]
      description: List cats
      operationId: list
      responses:
        200:
          description: A list of cats
          schema:
            type: array
            items:
              $ref: "#/definitions/Cat"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
    post:
      tags: [ "cat" ]
      description: Create a cat
      operationId: create
      parameters:
        - name: cat
          in: body
          required: true
          schema:
            $ref: "#/definitions/CreateCatRequest"
      responses:
        "200":
          description: "Cat created"
          schema:
            $ref: "#/definitions/Cat"
  /cat/{id}:
    x-swagger-router-controller: cat
    get:
      tags: [ "cat" ]
      description: Get a cat by id
      operationId: getById
      parameters:
        - name: id
          in: path
          required: true
          type: string
      responses:
        200:
          description: A cat
          schema:
            $ref: "#/definitions/Cat"

definitions:
  CreateCatRequest:
    required:
      - name
    properties:
      name:
        type: string
  Cat:
    required:
      - _id
      - uri
      - name
    properties:
      _id:
        type: string
      uri:
        type: string
      name:
        type: string
  ErrorResponse:
    required:
      - message
    properties:
      message:
        type: string
  LoginPostData:
    required:
      - nick
    properties:
      nick:
        type: string

